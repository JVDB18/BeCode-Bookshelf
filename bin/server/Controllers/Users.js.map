{"version":3,"sources":["../../../src/server/Controllers/Users.js"],"names":["Users","index","database","request","response","console","log","method","toUpperCase","url","collection","find","toArray","error","result","assert","equal","send","JSON","stringify"],"mappings":";;;;;;;AAQA;;;;AAEe,MAAMA,KAAN,CAAY;AAMvB,SAAOC,KAAP,CAAaC,QAAb,EAAuBC,OAAvB,EAAgCC,QAAhC,EAA0C;AAOtCC,IAAAA,OAAO,CAACC,GAAR,CAAa,QAAOH,OAAO,CAACI,MAAR,CAAeC,WAAf,EAA6B,KAAIL,OAAO,CAACM,GAAI,EAAjE;AAGAP,IAAAA,QAAQ,CACHQ,UADL,CACgB,OADhB,EAEKC,IAFL,CAEU,EAFV,EAGKC,OAHL,CAGa,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAExBC,sBAAOC,KAAP,CAAa,IAAb,EAAmBH,KAAnB;;AAGAT,MAAAA,QAAQ,CAACa,IAAT,CAAcC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAAd;AACH,KATL;AAUH;;AA1BsB","sourcesContent":["/* becodeorg/bookshelf\n *\n * /src/server/Users.js - Users Controller\n *\n * coded by Tanguy@Team Noix\n * started at 08/02/2019\n */\n\nimport assert from \"assert\";\n\nexport default class Users {\n    /*\n     * Users Controller\n     * Will handle all Users-related methods\n     */\n\n    static index(database, request, response) {\n        /*\n         * Get all users\n         * Return JSON with all users\n         */\n\n        // Print method & route in server console\n        console.log(`ℹ️  (${request.method.toUpperCase()}) ${request.url}`);\n\n        // Get datas from database\n        database\n            .collection(\"users\") // Collection (equivalent to MySQL's Table) we want to get informations from\n            .find({}) // Datas we want to collect (empty object being shorthand for \"no specificity\" => \"find all\")\n            .toArray((error, result) => {\n                // Check if errors getting datas\n                assert.equal(null, error);\n\n                // Send datas in JSON format\n                response.send(JSON.stringify(result));\n            });\n    }\n}\n"],"file":"Users.js"}